<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
</head>
<body>
    <input type="text" id="make-input" />
    <button id="make-button">Make</button> <!-- listen to this button being clicked --><!-- onclick="makeIt()" -->
    <button onclick="clearAll()">Clear All</button>
    <ul id="make-list"></ul>
    <script>
        const makeButton = document.getElementById("make-button")
        makeButton.addEventListener("click", makeIt)

        const makeInput = document.getElementById("make-input")
        const makeList = document.getElementById("make-list")


        // Data (state)
        const todoList = ["Laundry", "Taxes"]

        // When the app first loads in, render whatever data we start with
        renderTodos()

        // RENDER FUNCTIONS

        function renderTodos() {
            // clear out the old stuff that might be out of date - not the most efficient but fine for now
            while(makeList.hasChildNodes()) {
                makeList.removeChild(makeList.firstChild)
            }

            // Put it all back in, but updated
            for(const todoValue of todoList) {
                const todoLi = renderTodo(todoValue)
                makeList.appendChild(todoLi)
            }
        }


        // Contained as possible
        // data => thinks => HTML
        function renderTodo(todoValue) {
            const newBabyLi = document.createElement("li")

            newBabyLi.textContent = todoValue

            newBabyLi.addEventListener("click", () => deleteTodo(todoValue))

            return newBabyLi // the li in the great before
        }


        // EVENT HANDLER FUNCTIONS

        function makeIt() {
            // Change the data
            todoList.push(makeInput.value)

            // A little thing
            makeInput.value = ""

            // Make it so!
            renderTodos()
        }

        function deleteTodo(todoValue) {
            const indexToDelete = todoList.indexOf(todoValue) 
            todoList.splice(indexToDelete, 1)
            
            // Make it so!
            renderTodos()
        }

        function clearAll() {
            // Change the data
            todoList = []

            // Make it so!
            renderTodos()
        }

    </script>
</body>
</html>

